doctype transitional
html(xmlns='http://www.w3.org/1999/xhtml')
  head
    meta(http-equiv='Content-Type', content='text/html; charset=utf-8')
    title PND Developer Community Newsletter
    style(type='text/css').
      body {
      padding-top: 0 !important;
      padding-bottom: 0 !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
      margin:0 !important;
      width: 100% !important;
      -webkit-text-size-adjust: 100% !important;
      -ms-text-size-adjust: 100% !important;
      -webkit-font-smoothing: antialiased !important;
      }
      .tableContent img {
      border: 0 !important;
      display: block !important;
      outline: none !important;
      }
      a{
      color:#382F2E;
      }
      p, h1,h2,ul,ol,li,div{
      margin:0;
      padding:0;
      }
      h1,h2{
      font-weight: normal;
      background:transparent !important;
      border:none !important;
      }
      .contentEditable h2.big,.contentEditable h1.big{
      font-size: 26px !important;
      }
      .contentEditable h2.bigger,.contentEditable h1.bigger{
      font-size: 37px !important;
      }
      td,table{
      vertical-align: top;
      }
      td.middle{
      vertical-align: middle;
      }
      a.link1{
      font-size:13px;
      color:#27A1E5;
      line-height: 24px;
      text-decoration:none;
      }
      a{
      text-decoration: none;
      }
      .link2{
      color:#ffffff;
      border-top:10px solid #27A1E5;
      border-bottom:10px solid #27A1E5;
      border-left:18px solid #27A1E5;
      border-right:18px solid #27A1E5;
      border-radius:3px;
      -moz-border-radius:3px;
      -webkit-border-radius:3px;
      background:#27A1E5;
      }
      .link3{
      color:#555555;
      border:1px solid #cccccc;
      padding:10px 18px;
      border-radius:3px;
      -moz-border-radius:3px;
      -webkit-border-radius:3px;
      background:#ffffff;
      }
      .link4{
      color:#27A1E5;
      line-height: 24px;
      }
      h2,h1{
      line-height: 20px;
      }
      p{
      font-size: 14px;
      line-height: 21px;
      color:#828282;
      }
      .contentEditable li{
      }
      .appart p{
      }
      .bgItem{
      background: #ffffff;
      }
      .bgBody{
      background: #ffffff;
      }
      img {
      outline:none;
      text-decoration:none;
      -ms-interpolation-mode: bicubic;
      width: auto;
      max-width: 100%;
      clear: both;
      display: block;
      float: none;
      }
    script.swatch.active(type='colorScheme').
      {
      "name":"Default",
      "bgBody":"ffffff",
      "link":"27A1E5",
      "color":"AAAAAA",
      "bgItem":"ffffff",
      "title":"444444"
      }
  body(paddingwidth='0', paddingheight='0', bgcolor='#d1d3d4', style='padding-top: 0; padding-bottom: 0; padding-top: 0; padding-bottom: 0; background-repeat: repeat; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; -webkit-font-smoothing: antialiased;', offset='0', toppadding='0', leftpadding='0')
    table.tableContent.bgBody(width='100%', border='0', cellspacing='0', cellpadding='0', align='center', style='font-family:Helvetica, sans-serif;')
      // =============== START HEADER ===============
      tr
        td(align='center')
          table(width='700', border='0', cellspacing='0', cellpadding='0', align='center')
            tr
              td.bgItem(align='center')
                table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                  tr
                    td.movableContentContainer(align='center')
                      .movableContent
                        table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                          tr
                            td(height='15')
                          |                 
                          tr
                            td
                              table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                                tr
                                  td(valign='middle', style='vertical-align: middle;', width='100')
                                    .contentEditableContainer.contentTextEditable
                                      .contentEditable(style='text-align: left;')
                                        a.link1(target='_blank', href='#{server}:#{port}/#!/public/assets/newsletter/#{file_name}.html') Open in browser
                                |                       
                                tr
                                  td(valign='middle', style='vertical-align: middle;')
                                    .contentEditableContainer.contentTextEditable
                                      .contentEditable(style='text-align: left;font-weight: light; color:#555555;font-size:26;line-height: 39px;font-family: Helvetica Neue;')
                                        h1.big
                                          a(target='_blank', href='#{server}:#{port}', style='color:#444444')
                                            | PND Developer Community Newsletter
                                            a
                                  |                         
                                  td(width='10')
                          |                 
                          tr
                            td(height='15')
                          |                 
                          tr
                            td
                              hr(style='height:1px;background:#DDDDDD;border:none;')
                      // =============== END HEADER ===============
                      // =============== START BODY ===============
                      .movableContent
                        table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                          tr
                            td(height='40', colspan='3')
                          |                 
                          tr
                            td(width='150')
                              .contentEditableContainer.contentImageEditable
                                .contentEditable
                                  img(src='#{server}:#{port}/public/assets/newsletter/side.png', alt='side image', width='142', height='142', data-default='placeholder', data-max-width='150')
                            |                   
                            td(width='20')
                            |                   
                            td(width='510')
                              table(width='510', cellpadding='0', cellspacing='0', align='center')
                                tr
                                  td(height='15')
                                |                       
                                tr
                                  td
                                    .contentEditableContainer.contentTextEditable
                                      .contentEditable(style='text-align: left;')
                                        h2 Next Meeting: #{date}  
                                        h4 Vote Leaders
                                        each meeting in meetings
                                          div [#{meeting.vote_count} Votes] 
                                            a.link4(href='#{server}:#{port}/#!/meeting/#{meeting._id}') #{meeting.description}
                                        br
                                        |                               
                                        a.link2(target='_blank', href='#{server}:#{port}', style='color:#ffffff') Vote Now!
                                        |                               
                                        a.link2(target='_blank', href='#{server}:#{port}/public/assets/DeveloperCommunity.ics', style='color:#ffffff') Download Outlook Reminder
                          |                 
                          tr
                            td(height='40', colspan='3')
                          |                 
                          tr
                            td(colspan='3')
                              hr(style='height:1px;background:#DDDDDD;border:none;')
                      |             
                      .movableContent
                        table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                          tr
                            td(height='40')
                          |                 
                          tr
                            td(style='background:#F6F6F6; border-radius:6px;-moz-border-radius:6px;-webkit-border-radius:6px')
                              table(width='580', border='0', cellspacing='0', cellpadding='0', align='center')
                                tr
                                  td(height='25')
                                |                       
                                tr
                                  td
                                    .contentEditableContainer.contentTextEditable
                                      .contentEditable
                                        h1(style='text-align: center;') Recent Stories
                                        each story in stories
                                          h4= story.title
                                          div !{story.description}
                                          a.link4(target='_blank', href="#{server}:#{port}/#!/story/#{story._id}") read more
                                          br
                                          hr
                                        br
                                        a.link2(target='_blank', href='#{server}:#{port}/#!/stories') See All
                                        |                               
                                        br
                                |                       
                                tr
                                  td(height='24')
                          |                 
                          tr
                            td(colspan='3')
                              hr(style='height:1px;background:#DDDDDD;border:none;')
                      |             
                      .movableContent
                        br
                        |               
                        h1 In Case You Missed It
                        |               
                        table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                          tr
                            td(height='40')
                          |                 
                          tr
                            td
                              .contentEditableContainer.contentImageEditable
                                .contentEditable(style='text-align: center;')
                                  a(href='#{lastMeeting.url}')
                                    img(src='#{server}:#{port}/public/assets/newsletter/images/#{lastMeeting.image}', alt='Logo', width='594', height='335', data-default='placeholder', data-max-width='680')
                      |             
                      .movableContent
                        table(width='680', border='0', cellspacing='0', cellpadding='0', align='center')
                          tr
                            td(height='40')
                          |                 
                          tr
                            td(style='border: 1px solid #EEEEEE; border-radius:6px;-moz-border-radius:6px;-webkit-border-radius:6px')
                              table(width='580', border='0', cellspacing='0', cellpadding='0', align='center')
                                tr
                                  td(height='25')
                                |                       
                                tr
                                  td
                                    .contentEditableContainer.contentTextEditable
                                      .contentEditable(style='')
                                        a(href='#{lastMeeting.url}')
                                          h2(style='font-size: 20px;text-align: center; color: #27A1E5')= lastMeeting.description
                                        |                               
                                        br
                                        |                               
                                        div !{lastMeeting.details}
                                        br
                                        |                               
                                        a.link2(target='_blank', href='#{server}:#{port}/#!/meeting/#{lastMeeting._id}', style='color:#ffffff') Leave a Comment
                                |                       
                                tr
                                  td(height='24')
                      // =============== END BODY ===============
                      // =============== START FOOTER ===============
                      br
                      |         
                      br
                      |         
                      br
                      |         
                      br
                      // =============== END FOOTER ===============
